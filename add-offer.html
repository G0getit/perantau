<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add My Offer - PERANTAU CONNECT</title>
    <meta name="description" content="Submit your jasa titip offer to help Indonesian community members ship items from Canada to Indonesia.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/add-offer.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body data-theme="light">
    <!-- Top Navigation Bar -->
    <nav class="top-nav">
        <div class="nav-left">
            <div class="site-name"><a href="index.html" target="_self" class="home-link" title="Perantau Connect">PERANTAU CONNECT</a></div>
            <a href="https://perantauconnect.wordpress.com" target="_blank" class="nav-link" title="Complete Articles">Articles</a>
            <a href="chat.html" target="_self" class="nav-link" title="Talk to AI">AI Chat</a>
            <a href="guides.html" target="_self" class="nav-link" title="Complete Guides">Guides</a>
            <a href="jasatitip.html" target="_self" class="nav-link" title="Jasa Titip">Jasa Titip</a>
            <a href="news.html" target="_self" class="nav-link" title="Latest News">News</a>
        </div>
        <div class="nav-right">
            <button class="theme-toggle" id="themeToggle">
                <svg class="theme-icon" id="themeIcon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"/>
                </svg>
            </button>
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
                </svg>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay">
        <div class="mobile-menu">
            <a href="https://perantauconnect.wordpress.com/" target="_blank" class="mobile-nav-link">Articles</a>
            <a href="chat.html" target="_self" class="mobile-nav-link">AI Chat</a>
            <a href="guides.html" target="_self" class="mobile-nav-link">Guides</a>
            <a href="jasatitip.html" target="_self" class="mobile-nav-link">Jasa Titip</a>
            <a href="news.html" target="_self" class="mobile-nav-link">News</a>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Header Section -->
        <div class="page-header">
            <h1 class="page-title">Add My Jasa Titip Offer</h1>
            <p class="page-subtitle">Help fellow Indonesians by offering your shipping services</p>
        </div>

        <!-- Payment Notice -->
        <div class="payment-notice">
            <div class="notice-icon">üëê</div>
            <div class="notice-content">
                <h3>Support Fee Required</h3>
                <p><strong>CA$3 per listing</strong> must be sent to <strong>gregorius.erico@gmail.com</strong> via e-transfer before your request can be approved.</p>
                <p>Your listing will be active until your drop-off deadline date. Payment ensures quality listings and prevents spam. Honestly, this helps us maintain the listing system.</p>
                <p><strong>Benefits:</strong></p>
                <ul>
                    <li>Tidak perlu posting berulang-ulang di WhatsApp</li>
                    <li>Tim kami yang akan posting semua active listing setiap minggu</li>
                    <li>Bisa ditemukan dengan mudah oleh lebih banyak orang (tidak perlu scroll WhatsApp)</li>
                    <li>One-time fee</li>
                    <li>Support produk buatan Indonesia</li>
                </ul>
            </div>
        </div>

        <!-- Form Container -->
        <div class="form-container">
            <form id="offerForm">
                <!-- Travel Route -->
                <div class="form-section">
                    <h3 class="section-title">Travel Route</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="fromCity">From (Origin) *</label>
                            <select id="fromCity" name="from_city" class="form-select" required>
                                <option value="">Select Canadian city</option>
                                <option value="Toronto (YYZ)">Toronto (YYZ)</option>
                                <option value="Vancouver (YVR)">Vancouver (YVR)</option>
                                <option value="Montreal (YUL)">Montreal (YUL)</option>
                                <option value="Calgary (YYC)">Calgary (YYC)</option>
                                <option value="Ottawa (YOW)">Ottawa (YOW)</option>
                                <option value="Edmonton (YEG)">Edmonton (YEG)</option>
                                <option value="Winnipeg (YWG)">Winnipeg (YWG)</option>
                                <option value="Halifax (YHZ)">Halifax (YHZ)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="toCity">To (Destination) *</label>
                            <select id="toCity" name="to_city" class="form-select" required>
                                <option value="">Select Indonesian city</option>
                                <option value="Jakarta (CGK)">Jakarta (CGK)</option>
                                <option value="Surabaya (MLG)">Surabaya (MLG)</option>
                                <option value="Medan (KNO)">Medan (KNO)</option>
                                <option value="Bandung (BDO)">Bandung (BDO)</option>
                                <option value="Yogyakarta (JOG)">Yogyakarta (JOG)</option>
                                <option value="Semarang (SRG)">Semarang (SRG)</option>
                                <option value="Makassar (UPG)">Makassar (UPG)</option>
                                <option value="Denpasar (DPS)">Denpasar (DPS)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Travel Dates -->
                <div class="form-section">
                    <h3 class="section-title">Travel Schedule</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="departureDate">Departure Date *</label>
                            <input type="date" id="departureDate" name="departure_date" class="form-input" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="arrivalDate">Arrival Date *</label>
                            <input type="date" id="arrivalDate" name="arrival_date" class="form-input" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="dropoffDeadline">Drop-off Deadline *</label>
                        <input type="date" id="dropoffDeadline" name="dropoff_deadline" class="form-input" required>
                        <div class="form-help">Latest date you can receive items before departure</div>
                    </div>
                </div>

                <!-- Capacity & Pricing -->
                <div class="form-section">
                    <h3 class="section-title">Capacity & Pricing</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="capacity">Available Capacity (kg) *</label>
                            <input type="number" id="capacity" name="capacity_kg" class="form-input" min="1" max="50" required>
                            <div class="form-help">How many kg can you carry?</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="pricePerKg">Price per kg (CA$) *</label>
                            <input type="number" id="pricePerKg" name="price_per_kg" class="form-input" min="5" max="100" step="0.01" required>
                            <div class="form-help">Your fee for shipping service</div>
                        </div>
                    </div>
                </div>

                <!-- Drop-off Locations -->
                <div class="form-section">
                    <h3 class="section-title">Drop-off Information</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="dropoffLocations">Drop-off Locations *</label>
                        <textarea id="dropoffLocations" name="dropoff_locations" class="form-textarea" rows="3" required placeholder="Example: Main Street Station, University campus, My apartment near Dundas"></textarea>
                        <div class="form-help">Where can people drop off items? Separate multiple locations with commas</div>
                    </div>
                </div>

                <!-- Contact Information -->
                <div class="form-section">
                    <h3 class="section-title">Contact Information</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="contactName">Your Name *</label>
                            <input type="text" id="contactName" name="contact_name" class="form-input" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="contactPhone">Phone Number *</label>
                            <input type="tel" id="contactPhone" name="contact_phone" class="form-input" required placeholder="e.g., 416-555-0123">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="submitterEmail">Your Email *</label>
                        <input type="email" id="submitterEmail" name="contact_email" class="form-input" required placeholder="For approval notifications only">
                        <div class="form-help">We'll notify you when your listing is approved</div>
                    </div>
                </div>

                <!-- Additional Notes -->
                <div class="form-section">
                    <h3 class="section-title">Additional Information</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="notes">Notes (Optional)</label>
                        <textarea id="notes" name="notes" class="form-textarea" rows="3" placeholder="Any special conditions, preferred contact method, or additional information..."></textarea>
                        <div class="character-counter" id="notesCounter">0/500 characters</div>
                    </div>
                </div>

                <!-- Terms & Conditions -->
                <div class="form-section">
                    <div class="checkbox-group">
                        <input type="checkbox" id="agreeTerms" class="checkbox-input" required>
                        <label for="agreeTerms" class="checkbox-label">
                            I agree to the terms and conditions. I understand that PERANTAU CONNECT is not responsible for transactions between users. *
                        </label>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="confirmPayment" class="checkbox-input" required>
                        <label for="confirmPayment" class="checkbox-label">
                            I confirm that I have sent the CA$5 listing fee to gregorius.erico@gmail.com via e-transfer. *
                        </label>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="window.history.back()">Cancel</button>
                    <button type="submit" class="btn-primary" id="submitButton">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
                        </svg>
                        Send Request
                    </button>
                </div>
            </form>
        </div>

        <!-- Success Message -->
        <div class="success-message" id="successMessage" style="display: none;">
            <div class="success-icon">‚úÖ</div>
            <h3>Request Submitted Successfully!</h3>
            <p>Your jasa titip offer has been submitted for review. You'll receive an email notification once it's approved and live on the website.</p>
            <button class="btn-primary" onclick="window.location.href='jasatitip.html'">View All Listings</button>
        </div>
    </div>

    <!-- Rate Limit Warning Modal -->
    <div class="modal-overlay" id="rateLimitModal">
        <div class="modal-content">
            <div class="modal-title">‚ö†Ô∏è Submission Limit Reached</div>
            <div class="modal-subtitle">
                You can only submit 3 offers per day to prevent spam. Please try again tomorrow.
            </div>
            <button type="button" class="btn-primary" id="closeRateLimitModal">Understood</button>
        </div>
    </div>

    <!-- Floating Feedback Button -->
    <div class="floating-feedback" id="floatingFeedback">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4C22,2.89 21.1,2 20,2Z"/>
        </svg>
    </div>

    <!-- Floating Feedback Modal -->
    <div class="modal-overlay" id="floatingFeedbackModal">
        <div class="modal-content">
            <div class="modal-title">Send Us Your Feedback</div>
            <div class="modal-subtitle">
                Help us improve PERANTAU CONNECT! Share your thoughts, suggestions, or report any issues.
            </div>
            <form id="floatingFeedbackForm">
                <div class="form-group">
                    <label class="form-label" for="floatingFeedbackText">Your Feedback *</label>
                    <textarea 
                        id="floatingFeedbackText" 
                        class="form-textarea" 
                        placeholder="Tell us what you think! What features would you like to see? What problems did you encounter?"
                        required
                        maxlength="1000"
                    ></textarea>
                    <div class="character-counter" id="floatingCharacterCounter">0/1000 characters</div>
                </div>
                <button type="submit" class="modal-button" id="submitFloatingFeedback">Send Feedback</button>
                <button type="button" class="modal-button secondary" id="cancelFloatingFeedback">Cancel</button>
            </form>
        </div>
    </div>

    <script src="js/global.js"></script>
    <script src="js/add-offer.js"></script>
</body>
</html>